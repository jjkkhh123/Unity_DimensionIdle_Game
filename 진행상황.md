# 반물질 키우기 게임 - 진행상황

**마지막 업데이트**: 2026-01-20
**Unity 버전**: 6000.1.2f1 (Unity 6)
**프로젝트 경로**: `C:\Unity_Project\My project`

---

## 현재 상태 요약

**5-탭 시스템 완성** | **엔드게임까지 플레이 가능** | **UI Toolkit 기반**

| 시스템 | 상태 | 핵심 파일 |
|--------|------|-----------|
| 차원 생산 (1~8차원) | ✅ | `Dimension.cs`, `GameManager.cs` |
| 틱스피드 | ✅ | `TickSpeedManager.cs` |
| DimBoost | ✅ | `DimBoostManager.cs` |
| 프레스티지 | ✅ | `PrestigeManager.cs`, `PrestigeUpgrade.cs` |
| Shop (프리미엄) | ✅ | `ShopManager.cs`, `ShopPanelController.cs` |
| Offline 부스트 | ✅ | `OfflineManager.cs`, `OfflinePanelController.cs` |
| 세이브/로드 | ✅ | `SaveManager.cs` |
| UI Toolkit | ✅ | `Assets/UI/UXML/`, `Assets/UI/USS/` |

---

## 게임 시스템 핵심 정보

### 차원 시스템
- 1~8차원, 각 차원은 하위 차원 생산 (1차원 → 반물질)
- 초기 해금: 1~2차원, 나머지는 DimBoost로 해금
- 가격: 구매마다 1.2배, 10개마다 5배 추가 (점진적 증가)

### DimBoost (Dimension Enhance)
- 조건: 최고 해금 차원 20개 (8차원 후 무제한 반복)
- 효과: 리셋 + 다음 차원 해금 + 차원별 x2 누적 배수

### 프레스티지
- 조건: 반물질 1e10 이상
- 효과: 전체 리셋 + 포인트 획득 (`exponent / 10`)
- 업그레이드: 틱스피드 파워, 차원별 부스트, 벌크 보너스

### Shop 시스템
- 화폐: Premium Currency
- 상품: Dim 1-4 부스트, Dim 5-8 부스트, All Dimensions 부스트
- 레벨 시스템: 무제한 구매, 효과 2^level 스택

### Offline 시스템
- 오프라인 시간 축적 (기본 24시간 캡, 50% 효율)
- 부스트: 저장 시간 소비하여 1x~20x 게임 속도 가속
- 업그레이드: Max Time 증가, Efficiency 증가 (최대 100%)

### 무한(Infinity)
- 조건: 반물질 1.79e308 도달
- 동작: 생산 자동 중단/재개, 달성 패널 표시

---

## 파일 구조

```
Assets/
├── Scripts/
│   ├── Core: BigDouble, Dimension, GameManager
│   ├── Systems: PrestigeManager, TickSpeedManager, DimBoostManager,
│   │            ShopManager, OfflineManager, SaveManager
│   ├── UI Controllers: DimensionsPanelController, PrestigePanelController,
│   │                   ShopPanelController, OfflinePanelController,
│   │                   OptionsManagerUIToolkit, TabManagerUIToolkit
│   ├── Popups: TutorialPopup, OfflineProgressPopup
│   └── Platform: PlatformDetector, PlatformUIConfig
│
├── UI/
│   ├── UXML/DimensionsPanels.uxml  (전체 UI 레이아웃)
│   └── USS/Main.uss                 (스타일시트)
│
└── Editor/
    ├── GameUISetup_v2.cs      (UI 자동 생성)
    ├── GameManagerSetup.cs    (Manager 자동 생성)
    └── AdaptiveUISetup.cs     (모바일 UI 설정)
```

---

## 설치 및 실행

1. **Manager 생성**: `Tools → Setup Game Managers`
2. **UI Document 설정**:
   - Hierarchy → UI Toolkit → UI Document 생성
   - Source Asset: `Assets/UI/UXML/DimensionsPanels.uxml`
   - 컴포넌트 추가: `DimensionsPanelController`, `PrestigePanelController`, `ShopPanelController`, `OfflinePanelController`, `OfflineProgressPopup`, `OptionsManagerUIToolkit`, `TabManagerUIToolkit`
3. **GameManager에 추가**: `ShopManager`, `OfflineManager` 컴포넌트

---

## 테스트 치트 키 (에디터 전용)

| 키 | 기능 |
|----|------|
| F5 | 오프라인 시간 +1시간 |
| F6 | 오프라인 시간 +6시간 |
| F7 | 오프라인 시간 +24시간 |
| F8 | 오프라인 팝업 시뮬레이션 |
| F9 | 디버그 상태 출력 |

---

## 향후 계획

### 단기
- [ ] UGUI 완전 제거
- [ ] 자동 구매 기능
- [ ] 통계 화면 (총 생산량, 플레이 시간)
- [ ] 업적 시스템
- [ ] 게임 시작 시 목표 안내 팝업

### 장기
- [ ] Infinity 이후 컨텐츠 (Infinity Points, Break Infinity)
- [ ] 도전 과제 시스템
- [ ] 9~12차원 추가
- [ ] 모바일 빌드 배포

---

## 최근 변경사항

### 2026-01-14 - Shop & Offline 탭 구현 완료
- Shop: 레벨 기반 반복 구매, 가격 공식 `basePrice + 100 × (level-1) × level / 2`
- Offline: 시간 축적, 업그레이드, 부스트 시스템
- 오프라인 복귀 팝업 (`OfflineProgressPopup.cs`)

### 2026-01-13 - Options 패널 UI Toolkit 구현
- Export/Import Save, Reset Game, Quit Game, Help 기능
- `OptionsManagerUIToolkit.cs`, `TabManagerUIToolkit.cs` 추가

---

## 밸런스 조정 참고

| 항목 | 파일 | 위치 |
|------|------|------|
| 차원 초기 가격 | `GameManager.cs` | 차원 초기화 부분 |
| 가격 상승률 | `Dimension.cs` | `GetPrice()` 메서드 |
| DimBoost 조건 | `DimBoostManager.cs` | `CanDimBoost()` 메서드 |
| 프레스티지 공식 | `PrestigeManager.cs` | `CalculatePrestigeGain()` |
| Shop 가격 공식 | `ShopManager.cs` | `GetItemPrice()` |
| Offline 효율 | `OfflineManager.cs` | `efficiencyRatio` 변수 |

---

**이 파일은 프로젝트 재개 시 컨텍스트 파악용입니다.**
